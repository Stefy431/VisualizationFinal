
<!DOCTYPE html>
<html>
<head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>
    <h2>whats the most popular video game genre?</h2>
    <svg width="500" height="400"></svg> <!--Step 2-->
    <script>
        
        // Step 3
        var svg = d3.select("svg"),
            width = svg.attr("width"),
            height = svg.attr("height"),
            radius = 200;

        // Step 1        
        var data = [{name: "Sports", slice: 14.05}, 
                    {name: "Platform", slice: 5.31},
                    {name: "Racing", slice: 7.47},
                    {name: "Role-Playing", slice: 8.97},
                    {name: "Puzzle", slice: 3.47},
                    {name: "Misc", slice: 10.35},
                    {name: "Shooter", slice:7.91},
                    {name: "Simulation", slice:5.23},
                    {name: "Action", slice:20.16},
                    {name: "Fighting", slice: 5.08},
                    {name: "Adventure", slice: 7.79}, 
                    {name: "Strategyy", slice:4.09}];
        
        var g = svg.append("g")
                   .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

        // Step 4
        var ordScale = d3.scaleOrdinal()
                        	.domain(data)
                        	.range(['#ffd384','#94ebcd','#fbaccc','#d3e0ea','#fa7f72', '#29302b', '#41b061', '#081da6', '#6ec472','#ffb7ab','#bf321b','#7c238c']);

        // Step 5
        var pie = d3.pie().value(function(d) { 
                return d.slice; 
            });

        var arc = g.selectAll("arc")
                   .data(pie(data))
                   .enter();

        // Step 6
        var path = d3.arc()
                     .outerRadius(radius)
                     .innerRadius(0);

        arc.append("path")
           .attr("d", path)
           .attr("fill", function(d) { return ordScale(d.data.name); });

        // Step 7
        var label = d3.arc()
                      .outerRadius(radius)
                      .innerRadius(0);
        /*    
        arc.append("text")
           .attr("transform", function(d) { 
                    return "translate(" + label.centroid(d) + ")"; 
            })
           .text(function(d) { return d.data.name; })
           .style("font-family", "arial")
           .style("font-size", 7)
           .style("color: white");  */

        function setup() {
            createCanvas(500, 500)
        }

        function draw() {
            fill("#ffd384")
            rect(10, 10, 10, 10)
            text("Strategy", 25, 19)

            fill("#94ebcd")
            rect(75, 10, 10, 10)
            text("Sports", 90, 19)

            fill("#fbaccc")
            rect(150, 10, 10, 10)
            text("Platform", 165, 19)

            fill("#d3e0ea")
            rect(240, 10, 10, 10)
            text("Racing", 257, 19)

            fill("#fa7f72")
            rect(320, 10, 10, 10)
            text("Role-Playing", 335, 19)

            fill("#29302b")
            rect(410, 10, 10, 10)
            text("Puzzle", 422, 19)


            //2nd row 

            fill("#41b061")
            rect(10, 50, 10, 10)
            text("Misc", 26, 59)

            fill("#081da6")
            rect(75, 50, 10, 10)
            text("Shooter", 90, 59)

            fill("#6ec472")
            rect(150, 50, 10, 10)
            text("Simulation", 165, 59)

            fill("#ffb7ab")
            rect(240, 50, 10, 10)
            text("Action", 257, 59)

            fill("#bf321b")
            rect(320, 50, 10, 10)
            text("Fighting", 335, 59)

            fill("#7c238c")
            rect(410, 50, 10, 10)
            text("Adventure", 422, 59)
        }
            
            
            
    </script>
</body>
</html>